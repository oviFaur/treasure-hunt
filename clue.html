...
<div id="out" class="message"></div>
<img id="clueImg" src="" alt="Clue image"/>
<div id="ytLink" style="margin-top:20px; display:none;"></div>
...
<script>
  const q = new URLSearchParams(location.search);
  const clue = (q.get('clue') || '').toLowerCase();

  document.getElementById('check').addEventListener('click', async () => {
    const pwd = document.getElementById('pwd').value.trim();
    const out = document.getElementById('out');
    const imgEl = document.getElementById('clueImg');
    const ytEl = document.getElementById('ytLink');

    out.textContent = 'Checking...';
    imgEl.style.display = 'none';
    ytEl.style.display = 'none';

    try {
      const res = await fetch('/.netlify/functions/verify', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ clue, password: pwd })
      });
      const j = await res.json();
      if (j.ok) {
        out.innerHTML = `<div class="ok">✅ Correct!<br>${j.nextText}</div>`;
        
        if (j.youtube) {
          ytEl.innerHTML = `<a href="${j.youtube}" target="_blank">▶️ Watch on YouTube</a>`;
          ytEl.style.display = 'block';
        } else {
          imgEl.src = `/clues/images/${clue}.jpg`;
          imgEl.style.display = 'block';
        }
      } else {
        out.innerHTML = `<div class="err">❌ Wrong password.</div>`;
      }
    } catch (e) {
      out.innerHTML = `<div class="err">⚠️ Network error. Try again.</div>`;
    }
  });
</script>
...
